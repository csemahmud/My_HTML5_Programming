/*!CK:2281707596!*//*1390272479,178186559*/

if (self.CavalryLogger) { CavalryLogger.start_js(["5U98f"]); }

__d("objPull",["createObjectFrom"],function(a,b,c,d,e,f){"use strict";var g=b('createObjectFrom'),h=function(i){var j=Array.prototype.slice.call(arguments,1);return j.length?g(j,j.map(function(k){return i[k];})):h.bind(null,i);};e.exports=h;});
__d("BrowseLogger",["Banzai","copyProperties","objMap","objPull","Run"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties'),i=b('objMap'),j=b('objPull'),k=b('Run'),l='browse',m='browse_aggr',n=null,o={},p={},q=function(y){if(y==null)return 'undefined';var z=y.tagName.toLowerCase(),aa=y.id,ba=y.className;if(aa)z+='#'+aa;if(ba)z+='.'+ba;return z;};function r(){n=null;o={};p={};}function s(y){h(y,{clientSessionID:n});return y;}function t(y){g.post(l,s(y));}function u(){if(n===null)return;p.aggregated=o;g.post(m,s(p));r();}function v(y){o[y]=(o[y]||0)+1;}function w(y){h(p,y);}k.onUnload(u);var x={newSession:function(){u();n=Math.random().toString();if(!p.start_time)p.start_time=Math.round(Date.now()/1000);},logResultClick:function(y,z,aa,ba){var ca={action:'result_click',click_type:y.ct||'result',section:y.section||'unknown',id:y.id||0,path:y.path||'unknown',rank:y.rank||0,referrer:y.referrer||'unknown',result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,abtest_version:y.abtest_version||'NONE',abtest_params:y.abtest_params,typeahead_sid:y.typeahead_sid||'',result_title:y.result_title||'unknown',result_href:y.result_href||'unknown',result_semantic:y.result_semantic||'unknown',type:y.experience_type||'unknown',click_action:aa,sub_id:y.sub_id,owner_id:y.owner_id};if(z.tn)ca.tn=z.tn;if(y.cst)ca.click_subtype=y.cst;v('result_click_'+ca.click_type);w({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});t(ca);if(!y.id)t({action:'logging_error',click_action:aa,click_type:ca.click_type,attributes:JSON.stringify(y),element:i(j(ba,'srcElement','target','toElement'),q),event:j(ba,'button','clientX','clientY','ctrlKey','layerX','layerY','offsetX','offsetY','pageX','pageY','screenX','screenY','shiftKey','type','x','y')});},logControlsClick:function(y,z){var aa={action:'controls_click',click_type:z,path:y.path||'unknown',referrer:y.referrer||'unknown',session_id:y.session_id||0,query_time:y.query_time,filter_name:y.name||'unknown',typeahead_sid:y.typeahead_sid||'',result_type:y.result_type||'unknown',type:y.experience_type||'unknown'};if(y.cst)aa.click_subtype=y.cst;v('controls_click_'+z);w({path:aa.path,referrer:aa.referrer,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logResultHover:function(y,z){var aa={action:'result_hover',id:y.id||0,path:y.path||'unknown',rank:y.rank,result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,time_elapsed:z,typeahead_sid:y.typeahead_sid||0,type:y.experience_type||'unknown'};v('result_hover');w({path:aa.path,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logScroll:function(y,z,aa,ba){var ca={action:'scroll',encoded_query:y,fragments:z,position:aa,session_id:ba||0};t(ca);},logNUXStep:function(y){var z={action:'nux_step',step:y};t(z);},logDisambiguationImpression:function(y,z,aa,ba,ca){var da={action:'disambiguation_imp',ids:ba,name:y,path:aa,type:z,typeahead_sid:ca};t(da);},logDisambiguationClick:function(y,z,aa,ba,ca,da){var ea={action:'disambiguation_clk',id:ca,index:ba,name:y,path:aa,type:z,typeahead_sid:da};t(ea);}};e.exports=x;});
__d("concatMap",[],function(a,b,c,d,e,f){function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;});
__d("LitestandNewsfeedCountUpdater",["Arbiter","AsyncRequest","LitestandMessages","LitestandSidebarBookmarkConfig","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('LitestandMessages'),j=b('LitestandSidebarBookmarkConfig'),k=b('emptyFunction'),l,m;function n(){m&&clearTimeout(m);if(l)return;m=setTimeout(o,j.nf_count_query_interval_ms,false);}function o(){if(l)return;new h().setURI('/ajax/litestand/newsfeed_count').setHandler(function(r){if(l)return;p(r.getPayload());n();}).setAllowCrossPageTransition(true).send();}function p(r){g.inform(i.UPDATE_HOME_COUNT,{count:r,onHome:l},g.BEHAVIOR_STATE);}var q={init:function(){q.init=k;g.subscribe(i.NEWSFEED_LOAD,function(){l=true;p(0);});g.subscribe(i.LEAVE_HOME,function(){l=false;n();});n();}};e.exports=q;});
__d("LitestandChromeHomeCount",["Arbiter","CSS","DOM","LitestandMessages","LitestandNewsfeedCountUpdater","$","csx","cx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('LitestandMessages'),k=b('LitestandNewsfeedCountUpdater'),l=b('$'),m=b('csx'),n=b('cx'),o=20,p,q,r,s,t={init:function(u){s=u;q=i.find(l('pageHead'),"._5ahz");p=q.parentNode;r=false;g.subscribe(j.UPDATE_HOME_COUNT,function(v,w){t.updateBadge(w.onHome?0:w.count);});k.init();t.updateBadge(s);},updateBadge:function(u){s=u;var v=u>0;t.toggleBadge(v);if(v){var w=u>o?o+'+':u;i.setContent(q,w);}},toggleBadge:function(u){if(r===u)return;r=u;h.conditionClass(p,"_5ahy",!u);}};e.exports=t;});
__d("LitestandEllipsis",["DOM","DOMDimensions","concatMap","createArrayFrom"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('DOMDimensions'),i=b('concatMap'),j=b('createArrayFrom'),k,l={add:function(o,p,q){q=q||o;g.scry(o,'br').forEach(g.remove);var r=h.getElementDimensions(q).height;if(r<=p)return o;var s,t='...',u=n(o),v=u.length-1,w=g.getText(u[v]);while(v>=0&&r>p){s=Math.max(w.lastIndexOf(' '),w.lastIndexOf('\n'));if(s===-1)s=w.length-t.length-1;if(s<=0){m(u[v],'');v--;w=g.getText(u[v]);}else{w=w.substr(0,s).trim()+t;m(u[v],w);}r=h.getElementDimensions(q).height;}}};function m(o,p){k=k||(o.textContent!=null?'textContent':'innerText');o[k]=p;}function n(o){if(g.isTextNode(o))return [o];return i(n,j(o.childNodes));}e.exports=l;});
__d("clip",[],function(a,b,c,d,e,f){function g(h,i,j){return Math.min(Math.max(h,i),j);}e.exports=g;});
__d("PubContentTrendingUnitTruncation",["DOM","LitestandEllipsis","Style","csx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('LitestandEllipsis'),i=b('Style'),j=b('csx'),k,l={truncate:function(m){var n=g.scry(m,"._5v9v")[0];if(n){if(typeof k==='undefined'){var o=g.find(m,"._5v0u");k=i.getFloat(o,'maxHeight');}var p=g.find(m,"._5r--");h.add(n,k,p);}}};e.exports=l;});
__d("PubcontentTrendingUnitToggle",["CSS","DOM","Event","PubContentTrendingUnitTruncation","Run","csx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('Event'),j=b('PubContentTrendingUnitTruncation'),k=b('Run'),l=b('csx'),m={listenForToggle:function(n,o){var p=i.listen(n,'click',function(){p.remove();p=null;g.hide(n);h.scry(o,"._5my1").forEach(function(q){g.show(q);j.truncate(q);});});k.onLeave(function(){p&&p.remove();});}};e.exports=m;});
__d("TrendingRHCLogger",["AsyncSignal","CSS","Event","Parent","Run","ScubaSample","cx"],function(a,b,c,d,e,f){var g=b('AsyncSignal'),h=b('CSS'),i=b('Event'),j=b('Parent'),k=b('Run'),l=b('ScubaSample'),m=b('cx'),n,o,p,q;function r(event){var u=event.getTarget();if(!h.hasClass(u,"_5my2"))u=j.byClass(u,"_5my2");if(!u)return;var v=u.getAttribute('data-position');if(!v)return;var w=new l('trending_rhc');w.addNormal('has_litestand',n);w.addNormal('event','click');w.addNormal('position',v);w.addNormal('qe_group',p);w.addNormal('source',q);w.flush();if(v==='seemore')s();}function s(){if(!o)return;new g('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(o)}).send();o=null;}var t={init:function(u,v,w,x,y){q=v;n=w;p=x;o=y;var z=i.listen(u,'click',r);k.onLeave(function(){z.remove();});}};e.exports=t;});
__d("FacebarTimerUtils",[],function(a,b,c,d,e,f){var g={getTimestamp:function(){return Date.now();}};e.exports=g;});
__d("FacebarTypeaheadNoAnimation",["FacebarGlobalOptions","Style","getVendorPrefixedName"],function(a,b,c,d,e,f){var g=b('FacebarGlobalOptions'),h=b('Style'),i=b('getVendorPrefixedName');function j(k){"use strict";this._view=k.view;this.prop=i('transitionDuration');}j.prototype.enable=function(){"use strict";if(this.prop)h.set(this._view.element,this.prop,g.animationDuration);};j.prototype.disable=function(){"use strict";if(this.prop)h.set(this._view.element,this.prop,0);};e.exports=j;});